<div class="draco-avatar-group" ...attributes>
  {{#if this.members.length}}
    {{#if (not (eq this.limit 0))}}
      {{#each this.members as |member index|}}
        {{#if (lt index this.limit)}}
          {{#if member.provider}}
            {{#if (eq member.provider "github")}}
              <Draco::Avatar::Github @username={{member.username}} @size={{this.size}} />
            {{else if (eq member.provider "gitlab")}}
              <span>gitlab</span>
            {{else if (eq member.provider "bitbucket")}}
              <span>Bitbucket</span>
            {{/if}}
          {{/if}}

          {{#if member.src}}
            <Draco::Avatar @src={{member.src}} @size={{this.size}} />
          {{/if}}
        {{/if}}
      {{/each}}
      {{#if (gt this.members.length this.limit)}}
        <span
          class="draco-avatar-group--remaining-count"
          {{style width=(concat this.size "px") height=(concat this.size "px")}}
        >
          +{{draco-subtract this.members.length this.limit}}
        </span>
      {{/if}}
    {{else}}
      {{#each this.members as |member index|}}
        <span>
          {{member.username}}
        </span>
      {{/each}}
    {{/if}}
  {{/if}}
</div>
