{{#if (and this.tabs (has-block))}}
  {{draco-assert
    (concat "@tabs for \"" this.componentName "\" cannot be used with 'block params'")
    false
  }}
{{/if}}

<div
  class={{this.classNames}}
  {{did-insert this.didInsert}}
  {{did-update this.didUpdateSelectedTabId this._selectedTabId}}
  ...attributes
>
  <div class="draco-tabs__tablist-wrapper">
    <ul class="draco-tabs__tablist" role="tablist">
      {{#if this.tabs}}
        {{#each this.tabs as |tab index|}}
          {{draco/tabs/tab
            text=tab.title
            didInsertNode=this.didInsertTab
            didUpdateNode=this.didUpdateTab
            willDestroyNode=this.willDestroyTab
            tabIds=this._tabIds
            panelIds=this._panelIds
            selectedTabIndex=this.selectedTabIndex
            onClick=this.onClick
            onKeyUp=this.onKeyUp
          }}
        {{/each}}
      {{else}}
        {{yield
            (hash
              Tab=(component
                "draco/tabs/tab"
                didInsertNode=this.didInsertTab
                didUpdateNode=this.didUpdateTab
                willDestroyNode=this.willDestroyTab
                tabIds=this._tabIds
                panelIds=this._panelIds
                selectedTabIndex=this.selectedTabIndex
                onClick=this.onClick
                onKeyUp=this.onKeyUp
              )
            )
          }}
      {{/if}}
    </ul>
  </div>

  {{#if this.tabs}}
    {{#each this.tabs as |panel index|}}
      {{draco/tabs/panel
        text=panel.content
        didInsertNode=this.didInsertPanel
        willDestroyNode=this.willDestroyPanel
        tabIds=this._tabIds
        panelIds=this._panelIds
        selectedTabIndex=this.selectedTabIndex
      }}
    {{/each}}
  {{else}}
    {{yield
      (hash
        Panel=(component
          "draco/tabs/panel"
          didInsertNode=this.didInsertPanel
          willDestroyNode=this.willDestroyPanel
          tabIds=this._tabIds
          panelIds=this._panelIds
          selectedTabIndex=this.selectedTabIndex
        )
      )
    }}
  {{/if}}
</div>