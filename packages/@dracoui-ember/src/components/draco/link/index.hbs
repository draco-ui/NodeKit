{{#let (or @isRouteExternal this.isExternal) as |external|}}
  <Draco::Interactive
    class={{this.classNames}}
    @current-when={{@current-when}}
    @models={{draco-link-to-models @model}}
    @query={{draco-link-to-query @query}}
    @replace={{@replace}}
    @route={{@route}}
    @isRouteExternal={{external}}
    @href={{@href}}
    @isHrefExternal={{external}}
    ...attributes
    aria-label={{if this.isIconOnly this.text null}}
  >
    {{#if (eq this.iconPosition "leading")}}
      {{#if this.icon}}
        <Draco::Icon @name={{this.icon}} @size={{this.iconSize}} />
      {{/if}}
    {{/if}}

    {{#if this.text}}
      <span class="draco-link__text {{if this.underline "draco-link--underline"}}">
        {{this.text}}
      </span>
    {{else}}
      {{yield}}
    {{/if}}

    {{#if (eq this.iconPosition "trailing")}}
      {{#if this.icon}}
        <Draco::Icon @name={{this.icon}} @size={{this.iconSize}} />
      {{/if}}
    {{/if}}

    {{#if (and this.displayExternalIcon external)}}
      <Draco::Icon
        @size={{11}}
        @name="lucide:external-link"
        class="draco-link--external-indicator"
      />
    {{/if}}
  </Draco::Interactive>
{{/let}}
