/**
 * Copyright (c) Corinvo, LLC. and its partners and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

@use 'sass:map';
@use 'sass:list';
@use 'tokens' as *;
@use '@dracoui/primitives';

$button-sizes: ( "xsmall", "small", "medium", "large" );

$button-size-props: (
  "xsmall": (
    "gap": primitives.$draco-control-small-gap,
    "size": 24px,
    "font-size": primitives.$draco-text-size-body-tiny,
    "border-radius": primitives.$draco-border-radius-medium,
    "padding-horizontal": primitives.$draco-control-small-padding-condensed
  ),
  "small": (
    "gap": primitives.$draco-control-small-gap,
    "size": primitives.$draco-control-small-size,
    "font-size": primitives.$draco-text-size-body-small,
    "border-radius": primitives.$draco-border-radius-medium,
    "padding-horizontal": primitives.$draco-control-small-padding-condensed
  ),
  "medium": (
    "gap": primitives.$draco-control-medium-gap,
    "size": primitives.$draco-control-medium-size,
    "font-size": primitives.$draco-text-size-body-small,
    "padding-horizontal": primitives.$draco-control-medium-padding-normal
  ),
  "large": (
    "gap": primitives.$draco-control-large-gap,
    "size": primitives.$draco-control-large-size,
    "font-size": primitives.$draco-text-size-body-medium,
    "padding-horizontal": primitives.$draco-control-large-padding-normal
  ),
);

.draco-button {
  @each $size in $button-sizes {
    &.draco-button--#{$size} {
      gap: map.get($button-size-props, $size, "gap");
      font-size: map.get($button-size-props, $size, "font-size");
      height: map.get($button-size-props, $size, "size");

      @if map.get($button-size-props, $size, "border-radius") != null {
        $button-border-radius: map.get($button-size-props, $size, "border-radius");
      }

      &.draco-button--pill {
        border-radius: primitives.$draco-border-radius-full;
      }

      &.draco-button--square,
      &.draco-button--rounded {
        $specific-radius: map.get($button-size-props, $size, "border-radius");

        @if $specific-radius != null {
          border-radius: $specific-radius;
        } @else {
          border-radius: $button-border-radius;
        }
      }

      &:not(.draco-button--icon-only) {
        padding: 0 map.get($button-size-props, $size, "padding-horizontal");
      }

      &.draco-button--icon-only {
        padding: 0;
        width: map.get($button-size-props, $size, "size");
        display: inline-flex;
        align-items: center;
        justify-content: center;
      }

      // Overwrite padding for small button on 'pill' shape
      @if $size == "small" {
        &.draco-button--pill {
          padding: 0 primitives.$draco-control-small-padding-normal;
        }
      }
    }
  }
}