/**
 * Copyright (c) Corinvo, LLC. and its partners and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

@use 'sass:map';
@use 'sass:list';
@use 'tokens' as *;
@use '@dracoui/primitives';

$button-sizes: (
  "small": (
    "gap": primitives.$draco-control-small-gap,
    "size": primitives.$draco-control-small-size,
    "font-size": primitives.$draco-text-size-body-small,
    "padding-horizontal": if($button-padding-horizontal, $button-padding-horizontal, primitives.$draco-control-small-padding-condensed)
  ),
  "medium": (
    "gap": primitives.$draco-control-medium-gap,
    "size": primitives.$draco-control-medium-size,
    "font-size": primitives.$draco-text-size-body-small,
    "padding-horizontal": if($button-padding-horizontal, $button-padding-horizontal, primitives.$draco-control-medium-padding-normal)
  ),
  "large": (
    "gap": primitives.$draco-control-large-gap,
    "size": primitives.$draco-control-large-size,
    "font-size": primitives.$draco-text-size-body-medium,
    "padding-horizontal": if($button-padding-horizontal, $button-padding-horizontal, primitives.$draco-control-large-padding-normal)
  ),
);

.draco-button {
  @each $size, $props in $button-sizes {
    &.draco-button--#{$size} {
      gap: map.get($props, "gap");
      font-size: map.get($props, "font-size");
      height: map.get($props, "size");

      &:not(.draco-button--icon-only) {
        padding: 0 var(--draco-button-padding-horizontal, #{map.get($props, "padding-horizontal")});
      }

      &.draco-button--icon-only {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 0 var(--draco-button-padding-horizontal, 0);
        width: map.get($props, "size");
      }

      @if $size == "small" {
        &.draco-button--pill {
          padding: 0 primitives.$draco-control-small-padding-normal;
        }
      }
    }
  }

  &.draco-button--full-width {
    width: 100%;
    min-width: 100%;
  }
}