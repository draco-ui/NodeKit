/**
 * Copyright (c) Corinvo, LLC. and its partners and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

@use 'sass:map';
@use 'tokens' as *;
@use '@dracoui/primitives';
@use '../../utilities/variant-selector' as *;

// Color variants that work across all appearances
$badge-color-variants: (
  'brand',
  'danger',
  'important',
  'informative',
  'severe',
  'subtle',
  'success',
  'warning'
);

// Appearance styles that define how the badge is displayed
$badge-appearances: (
  'filled': (
    'uses-border': false,
    'token-modifier': ''
  ),
  'ghost': (
    'uses-border': true,
    'token-modifier': ''
  ),
  'outline': (
    'uses-border': true,
    'token-modifier': ''
  ),
  'tint': (
    'uses-border': false,
    'token-modifier': '-subtle'
  )
);

.draco-badge {
  // Loop through each appearance type
  @each $appearance, $appearance-props in $badge-appearances {
    &--#{$appearance} {
      // Loop through each color variant within the appearance
      @each $color in $badge-color-variants {
        &.draco-badge--#{$color} {
          $token-modifier: map.get($appearance-props, 'token-modifier');
          $uses-border: map.get($appearance-props, 'uses-border');

          // Set color and background based on appearance
          @if $appearance == 'filled' {
            color: var(--draco-badge-#{$color}#{$token-modifier}-foreground);
            background-color: var(--draco-badge-#{$color}#{$token-modifier}-background);
            border-color: transparent;
          } @else if $appearance == 'ghost' {
            color: var(--draco-badge-#{$color}-foreground);
            background-color: transparent;
            border-color: var(--draco-badge-#{$color}-background);
          } @else if $appearance == 'outline' {
            color: var(--draco-badge-#{$color}-background);
            background-color: var(--draco-background-primary);
            border-color: var(--draco-badge-#{$color}-background);
          } @else if $appearance == 'tint' {
            color: var(--draco-badge-#{$color}#{$token-modifier}-foreground);
            background-color: var(--draco-badge-#{$color}#{$token-modifier}-background);
            border-color: transparent;
          }
        }
      }
    }
  }
}